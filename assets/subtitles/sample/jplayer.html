<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Welcome to Firebase Hosting</title>
  <style media="screen">
  </style>

  <link rel="stylesheet" href="../assets/css/style.css" />
</head>

<body>

  <div id="wrapper">
    <div id="subtitleWrapper"><video id="video"></video>
      <div id="debug"><button id="goFS">Go fullscreen2</button><button id="connect">接続</button><button id="disconnect">切断</button><input
          id="message" value="hello" /><button id="send">送信</button></div>
      <div id="cameraView">
        <div id="chatView">
          <dl id="target"></dl>
        </div>
      </div>
    </div>
  </div>
  <!-- Chat Messages -->
  <div class="ui basic segment" style="height: 70vh;
  position: fixed;
  bottom: 200px;
  left: 20px;">
    <div id="chat-content" class="ui feed"> </div>
  </div>

  <!--SCRIPTS-->
  <script type="text/javascript" src="../assets/js/smooth-scroll.js"></script>
  <script type="text/javascript" src="../assets/js/mustache.js"></script>
  <script type="text/javascript" src="../assets/js/sails.io.js"></script>
  <script type="text/javascript">
    io.sails.url = 'http://localhost:1337';
    io.sails.autoConnect = true;
    io.sails.rejectUnauthorized = false;
  </script>
  <!-- Example usage -->
  <script type="text/javascript">
    io.socket.get('/chatMessage', function serverResponded(body, JWR) {
      // JWR ==> "JSON WebSocket Response"
      console.log('Sails responded with: ', body);
      console.log('with headers: ', JWR.headers);
      console.log('and with status code: ', JWR.statusCode);
    });
    // Listen for new chat messages
    io.socket.on('chatmessage', function (body) {
      renderChatMessages(body.data);
    });
  </script>

  <script type="text/javascript">
    function loadMessages() {
      // Load existing chat messages
      io.socket.get('/chatMessage', function (messages, response) {
        renderChatMessages(messages);
      });
      // Listen for new chat messages
      io.socket.on('chatmessage', function (body) {
        renderChatMessages(body.data);
      });
    }

    function renderChatMessages(data) {

    }
  </script>

  <script type="text/javascript">
    window.onload = function () {
      loadMessages();
    }
  </script>
  <script type="text/javascript" src="../assets/js/subtitles.js"></script>
</body>

</html>